{"version":3,"sources":["webpack:///./src/components/Login.vue?ac7f","webpack:///./src/assets/imgs/bg03.jpg","webpack:///./src/assets/imgs/bg00.jpg","webpack:///./src/assets/imgs/bg06.jpg","webpack:///./src/assets/imgs/bg04.jpg","webpack:///./src/utils/loading.js","webpack:///./src/utils/request.js","webpack:///./src/utils/taskModuleRequest.js","webpack:///./src/api/index.js","webpack:///./src/assets/imgs sync ^\\.\\/bg0.*\\.jpg$","webpack:///./src/components/Login.vue?b7c8","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?2227","webpack:///./src/components/Login.vue","webpack:///./src/assets/imgs/bg01.jpg","webpack:///./src/assets/imgs/bg02.jpg","webpack:///./src/assets/imgs/bg05.jpg"],"names":["module","exports","loadingCounter","showLoading","store","commit","closeLoading","service","axios","create","baseURL","localStorage","getItem","timeout","headers","transformRequest","data","ret","it","encodeURIComponent","interceptors","request","use","config","Authentication","error","Promise","reject","response","res","status","Message","content","message","resetTokenAndClearUser","router","push","name","taskModuleRequest","auth","url","method","deviceGroups","page","rows","addDeviceGroups","updataDeviceGroups","groupId","delGroup","add2Groups","vDeviceses","groupName","identifiers","taskTemplates","delTaskTemplates","id","createTask","addTaskTemplates","updataTaskTemplates","viewTaskLogs","withoutFeature","taskName","executionRecordFormList","executionRecordFormListGroupBy","tid","iid","executionRecordFormListGroupByFailure","attachments","addAttachments","delAttachments","addressAttachments","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","_v","attrs","on","verifyAccount","model","value","callback","$$v","account","expression","_s","accountError","verifyPwd","nativeOn","$event","type","indexOf","_k","keyCode","key","submit","pwd","pwdError","isShowLoading","class","isUrl","urlClick","staticRenderFns","component"],"mappings":"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","file":"js/chunk-675b7a9e.395f11fa.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/bg03.93edc1b5.jpg\";","module.exports = __webpack_public_path__ + \"img/bg00.3335388f.jpg\";","module.exports = __webpack_public_path__ + \"img/bg06.19ecc464.jpg\";","module.exports = __webpack_public_path__ + \"img/bg04.dff7ddf2.jpg\";","import store from '@/store'\r\n\r\nlet loadingCounter = 0\r\n\r\nexport function showLoading() {\r\n    if (loadingCounter === 0) {\r\n        store.commit('setLoading', true)\r\n    }\r\n\r\n    loadingCounter++\r\n}\r\n\r\nexport function closeLoading() {\r\n    loadingCounter--\r\n    if (loadingCounter <= 0) {\r\n        loadingCounter = 0\r\n        store.commit('setLoading', false)\r\n    }\r\n}","import axios from 'axios'\r\nimport { Message } from 'view-design'\r\nimport router from '@/router'\r\nimport { showLoading, closeLoading } from '@/utils/loading'\r\nimport { resetTokenAndClearUser } from '@/utils'\r\n//http://47.111.76.53:30001/api/v2\r\nconst service = axios.create({\r\n    baseURL: localStorage.getItem('YUDAO_URL'),\r\n    timeout: 60000,\r\n\t\theaders: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        // 修改请求数据\r\n        transformRequest: [function (data, headers) {\r\n            let ret = ''\r\n            for (let it in data) {\r\n                // 去除空字符串的请求字段\r\n                if (data[it] !== '') {\r\n                    if (ret !== '') ret += '&'\r\n                    ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it])\r\n                }\r\n            }\r\n            return ret\r\n        }]\r\n})\r\n\r\nservice.interceptors.request.use(config => {\r\n    showLoading()\r\n    if (localStorage.getItem('token')) {\r\n        config.headers.Authentication = localStorage.getItem('token')\r\n    }\r\n\r\n    return config\r\n}, (error) => Promise.reject(error))\r\n\r\nservice.interceptors.response.use(response => {\r\n    closeLoading()\r\n    const res = response.data\r\n    // 这里是接口处理的一个示范，可以根据自己的项目需求更改\r\n    // 错误处理\r\n    if (res.status === -403) {\r\n        Message.error({\r\n            content: res.message + ',请重新登录',\r\n        })\r\n        resetTokenAndClearUser()\r\n        router.push('login')\r\n\r\n        return Promise.reject()\r\n    }\r\n\r\n    // 如果接口正常，直接返回数据\r\n    return res\r\n}, (error) => {\r\n    closeLoading()\r\n    if (error.name == 'Error') {\r\n        Message.error({\r\n            content: error,\r\n        })\r\n    } else {\r\n        Message.error({\r\n            content: error.response.data.data || error.message,\r\n        })\r\n    }\r\n\r\n    return Promise.reject(error)\r\n})\r\n\r\nexport default service\r\n","import axios from 'axios'\r\nimport { Message } from 'view-design'\r\nimport router from '@/router'\r\nimport { showLoading, closeLoading } from '@/utils/loading'\r\nimport { resetTokenAndClearUser } from '@/utils'\r\n\r\nconst taskModuleRequest = axios.create({\r\n    baseURL: localStorage.getItem('YUDAO_URL'),\r\n    timeout: 60000,\r\n\t\theaders: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n})\r\n\r\ntaskModuleRequest.interceptors.request.use(config => {\r\n    showLoading()\r\n    if (localStorage.getItem('token')) {\r\n        config.headers.Authentication = localStorage.getItem('token')\r\n    }\r\n\r\n    return config\r\n}, (error) => Promise.reject(error))\r\n\r\ntaskModuleRequest.interceptors.response.use(response => {\r\n    closeLoading()\r\n    const res = response.data\r\n    // 这里是接口处理的一个示范，可以根据自己的项目需求更改\r\n    // 错误处理\r\n    if (res.status === -403) {\r\n        Message.error({\r\n            content: res.message + ',请重新登录',\r\n        })\r\n\r\n        resetTokenAndClearUser()\r\n        router.push('login')\r\n\r\n        return Promise.reject()\r\n    }\r\n\r\n    // 如果接口正常，直接返回数据\r\n    return res\r\n}, (error) => {\r\n    closeLoading()\r\n    if (error.name == 'Error') {\r\n        Message.error({\r\n            content: error,\r\n        })\r\n    } else {\r\n        Message.error({\r\n            content: error.response.data.data || error.message,\r\n        })\r\n    }\r\n\r\n    return Promise.reject(error)\r\n})\r\n\r\nexport default taskModuleRequest\r\n","import request from '@/utils/request'\r\nimport taskModuleRequest from '@/utils/taskModuleRequest'\r\n//登录\r\nexport function auth(data){\r\n    return request({\r\n      url: '/api/v2/permission/auth',\r\n      method: 'post',\r\n\t\t\tdata\r\n    })\r\n  }\r\n\r\n//---------------------------------分组管理---------------------------------------------\r\n//分组管理  获取分组\r\nexport function deviceGroups(data){\r\n    return request({\r\n      url: '/api/v2/groups?page=' + data.page + '&size=' + data.rows,\r\n      method: 'get',\r\n    })\r\n  }\r\n\t\r\n//分组管理  添加分组\r\nexport function addDeviceGroups(data){\r\n    return request({\r\n      url: '/api/v2/groups',\r\n      method: 'post',\r\n\t\t\tdata\r\n    })\r\n  }\r\n\t\r\n\t//分组管理  修改分组\r\n\texport function updataDeviceGroups(data){\r\n\t    return request({\r\n\t      url: '/api/v2/groups/' + data.groupId,\r\n\t      method: 'post',\r\n\t\t\t\tdata\r\n\t    })\r\n\t  }\r\n\t\t\r\n//分组管理  删除分组\r\nexport function delGroup(data){\r\n    return request({\r\n      url: '/api/v2/groups',\r\n      method: 'delete',\r\n\t\t\tdata\r\n    })\r\n  }\r\n\t\r\n//分组管理  设备添加到分组\r\nexport function add2Groups(data){\r\n    return request({\r\n      url: '/api/v2/devices/to_group',\r\n      method: 'post',\r\n\t\t\tdata\r\n    })\r\n  }\r\n//---------------------------------设备管理---------------------------------------------\r\n//设备管理  设备\r\nexport function vDeviceses(data){\r\n    return request({\r\n      url: '/api/v2/devices?' + (data.groupName?('groupName=' + data.groupName + '&'):'') + (data.identifiers?('identifiers=' + data.identifiers+ '&'):'') + 'page=' + data.page + '&size=' + data.rows,\r\n      method: 'get'\r\n    })\r\n  }\r\n\r\n\r\n\r\n//---------------------------------任务模板---------------------------------------------\r\n//任务模板  \r\nexport function taskTemplates(data){\r\n    return request({\r\n      url: '/api/v3/tasks/template?' + (data.name?('name=' + data.name+ '&'):'') + 'page=' + data.page + '&size=' + data.rows,\r\n      method: 'get'\r\n    })\r\n  }\r\n\t\r\n\t//任务模板  添加模板\r\n\t// export function addTaskTemplates(data){\r\n\t//     return taskModuleRequest({\r\n\t//       url: '/api/v2/tasks/template/injury',\r\n\t//       method: 'post',\r\n\t// \t\t\tdata\r\n\t//     })\r\n\t//   }\r\n\t\r\n\t//任务模板  修改模板\r\n\t// export function updataTaskTemplates(id,data){\r\n\t//     return taskModuleRequest({\r\n\t//       url: '/api/v2/tasks/template/' + id,\r\n\t//       method: 'post',\r\n\t// \t\t\tdata\r\n\t//     })\r\n\t//   }\r\n\r\n\r\n//任务模板  删除模板\r\n\texport function delTaskTemplates(id){\r\n\t    return request({\r\n\t      url: '/api/v2/taskTemplates/'+id,\r\n\t      method: 'delete'\r\n\t    })\r\n\t  }\r\n\r\n\t\t\t//任务模板  创建任务  \r\n\t\t\t\texport function createTask(data){\r\n\t\t\t\t    return request({\r\n\t\t\t\t      url: '/api/v2/tasks',\r\n\t\t\t\t      method: 'post',\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t    })\r\n\t\t\t\t  }\r\n\r\n\r\n\t//任务模板  添加模板\r\n\texport function addTaskTemplates(data){\r\n\t    return request({\r\n\t      url: '/api/v3/tasks/template/injury',\r\n\t      method: 'post',\r\n\t\t\t\tdata\r\n\t    })\r\n\t  }\r\n\r\n\t//任务模板  修改模板\r\n\texport function updataTaskTemplates(id,data){\r\n\t    return request({\r\n\t      url: '/api/v3/tasks/template/' + id,\r\n\t      method: 'post',\r\n\t\t\t\tdata\r\n\t    })\r\n\t  }\r\n//---------------------------------任务日志---------------------------------------------\r\n//任务日志  \r\nexport function viewTaskLogs(data){\r\n    return request({\r\n      url: '/api/v2/tasks?withoutFeature=' + data.withoutFeature + '&' + (data.groupName?('groupName=' + data.groupName+ '&'):'') + (data.identifiers?('identifiers=' + data.identifiers+ '&'):'') + (data.taskName?('taskName=' + data.taskName+ '&'):'') + 'page=' + data.page + '&size=' + data.rows,\r\n      method: 'get'\r\n    })\r\n  }\r\n//---------------------------------执行记录表---------------------------------------------\r\n\r\n//任务日志  \r\nexport function executionRecordFormList(data){\r\n    return request({\r\n      url: '/api/v2/tasks/group?' + (data.groupName?('groupName=' + data.groupName+ '&'):'') + (data.identifiers?('identifiers=' + data.identifiers+ '&'):'') + (data.taskName?('taskName=' + data.taskName+ '&'):'') + 'page=' + data.page + '&size=' + data.rows,\r\n      method: 'get'\r\n    })\r\n  }\r\n\t\r\n//任务日志  \r\nexport function executionRecordFormListGroupBy(data){\r\n    return request({\r\n      url: '/api/v2/tasks/group_by?tid=' + data.tid + '&iid=' + data.iid,\r\n      method: 'get'\r\n    })\r\n  }\r\n\t\r\n//任务日志  \r\nexport function executionRecordFormListGroupByFailure(data){\r\n    return request({\r\n      url: '/api/v2/tasks/group_by_failure?tid=' + data.tid + '&iid=' + data.iid,\r\n      method: 'get'\r\n    })\r\n  }\r\n\r\n//-----------------------------附件管理------------------------------\r\n\r\n//附件列表  \r\nexport function attachments(data){\r\n    return request({\r\n      url: '/api/v2/attachments?' + 'page=' + data.page + '&size=' + data.rows,\r\n      method: 'get'\r\n    })\r\n  }\r\n\t\r\n\t//附件 上传\r\n\texport function addAttachments(id,data){\r\n\t    return taskModuleRequest({\r\n\t      url: '/api/v2/attachments' + (id?('/' + id):''),\r\n\t      method: 'post',\r\n\t\t\t\tdata\r\n\t    })\r\n\t  }\r\n\r\n\t//附件 删除\r\n\texport function delAttachments(id){\r\n\t    return request({\r\n\t      url: '/api/v2/attachments/' + id,\r\n\t      method: 'delete'\r\n\t    })\r\n\t  }\r\n\t\t\r\n\t\t//附件 下载地址\r\n\t\texport function addressAttachments(id){\r\n\t\t    return request({\r\n\t\t      url: '/api/v2/attachments/' + id,\r\n\t\t      method: 'get'\r\n\t\t    })\r\n\t\t  }","var map = {\n\t\"./bg00.jpg\": \"0f18\",\n\t\"./bg01.jpg\": \"695e\",\n\t\"./bg02.jpg\": \"8539\",\n\t\"./bg03.jpg\": \"0a36\",\n\t\"./bg04.jpg\": \"1cda\",\n\t\"./bg05.jpg\": \"8bb6\",\n\t\"./bg06.jpg\": \"1064\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"40ec\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-vue\",style:(_vm.bg)},[_c('div',{staticClass:\"container\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"WELCOME\")]),_c('div',{staticClass:\"input-c\"},[_c('Input',{attrs:{\"prefix\":\"ios-contact\",\"placeholder\":\"用户名\",\"clearable\":\"\"},on:{\"on-blur\":_vm.verifyAccount},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.accountError))])],1),_c('div',{staticClass:\"input-c\"},[_c('Input',{attrs:{\"type\":\"password\",\"prefix\":\"md-lock\",\"placeholder\":\"密码\",\"clearable\":\"\"},on:{\"on-blur\":_vm.verifyPwd},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.pwd),callback:function ($$v) {_vm.pwd=$$v},expression:\"pwd\"}}),_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.pwdError))])],1),_c('Button',{staticClass:\"submit\",attrs:{\"loading\":_vm.isShowLoading,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"登陆\")]),_c('p',{staticClass:\"account\"},[_c('span',{class:{'red':!_vm.isUrl},on:{\"click\":_vm.urlClick}},[_vm._v(\"修改接口地址\")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login-vue\" :style=\"bg\">\r\n        <div class=\"container\">\r\n            <p class=\"title\">WELCOME</p>\r\n            <div class=\"input-c\">\r\n                <Input prefix=\"ios-contact\" v-model=\"account\" placeholder=\"用户名\" clearable @on-blur=\"verifyAccount\" />\r\n                <p class=\"error\">{{accountError}}</p>\r\n            </div>\r\n            <div class=\"input-c\">\r\n                <Input type=\"password\" v-model=\"pwd\" prefix=\"md-lock\" placeholder=\"密码\" clearable @on-blur=\"verifyPwd\"\r\n                @keyup.enter.native=\"submit\" />\r\n                <p class=\"error\">{{pwdError}}</p>\r\n            </div>\r\n            <Button :loading=\"isShowLoading\" class=\"submit\" type=\"primary\" @click=\"submit\">登陆</Button>\r\n            <p class=\"account\"><span\r\n\t\t\t\t\t\t :class=\"{'red':!isUrl}\"\r\n\t\t\t\t\t\t @click=\"urlClick\">修改接口地址</span></p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\timport {auth} from '@/api/index.js'\r\nexport default {\r\n    name: 'login',\r\n    data() {\r\n        return {\r\n            account: '',//admin\r\n            pwd: '',//a.123!\r\n            accountError: '',\r\n            pwdError: '',\r\n            isShowLoading: false,\r\n            bg: {},\r\n\t\t\t\t\t\tisUrl:localStorage.getItem('YUDAO_URL')\r\n        }\r\n    },\r\n    created() {\r\n        this.bg.backgroundImage = 'url(' + require('../assets/imgs/bg0' + new Date().getDay() + '.jpg') + ')'\r\n        this.bg.backgroundSize = '100% 100%'\r\n    },\r\n    watch: {\r\n        $route: {\r\n            handler(route) {\r\n                this.redirect = route.query && route.query.redirect\r\n            },\r\n            immediate: true,\r\n        },\r\n    },\r\n    methods: {\r\n        verifyAccount() {\r\n            if (this.account !== 'admin') {\r\n                this.accountError = ''\r\n            } else {\r\n                this.accountError = ''\r\n            }\r\n        },\r\n        verifyPwd() {\r\n            if (this.pwd !== 'admin') {\r\n                this.pwdError = ''\r\n            } else {\r\n                this.pwdError = ''\r\n            }\r\n        },\r\n        urlClick(){\r\n\t\t\t\t\tthis.$prompt('请填写接口地址', '提示', {\r\n\t\t\t\t\t  confirmButtonText: '确定',\r\n\t\t\t\t\t  cancelButtonText: '取消',\r\n\t\t\t\t\t}).then(({ value }) => {\r\n\t\t\t\t\t  localStorage.setItem('YUDAO_URL',value)\r\n\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t  this.$message({\r\n\t\t\t\t\t    type: 'info',\r\n\t\t\t\t\t    message: '取消输入'\r\n\t\t\t\t\t  });       \r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n        submit() {\r\n            if (this.account !== '' && this.pwd !== '') {\r\n\t\t\t\t\t\t\tauth({\r\n\t\t\t\t\t\t\t\tusername:this.account,\r\n\t\t\t\t\t\t\t\tpassword:this.pwd\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tif(res.status === 0){\r\n\t\t\t\t\t\t\t\t\tthis.isShowLoading = true\r\n\t\t\t\t\t\t\t\t\t// 登陆成功 设置用户信息\r\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('userImg', 'https://avatars3.githubusercontent.com/u/22117876?s=460&v=4')\r\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('userName', '域道科技')\r\n\t\t\t\t\t\t\t\t\t// 登陆成功 假设这里是后台返回的 token\r\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('token', 'f12138:'+res.content)\r\n\t\t\t\t\t\t\t\t\tconsole.log(this.redirect || '/')\r\n\t\t\t\t\t\t\t\t\tthis.$router.push({ path: this.redirect || '/' })\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.$message.error(res.msg)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n            } else {\r\n                if (this.account === '') {\r\n                    this.accountError = '请输入账号'\r\n                }\r\n\r\n                if (this.pwd === '') {\r\n                    this.pwdError = '请输入密码'\r\n                }\r\n            }\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.login-vue {\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    color: #fff;\r\n}\r\n.login-vue .container {\r\n    background: rgba(255, 255, 255, .5);\r\n    width: 300px;\r\n    text-align: center;\r\n    border-radius: 10px;\r\n    padding: 30px;\r\n}\r\n.login-vue .ivu-input {\r\n    background-color: transparent;\r\n    color: #fff;\r\n    outline: #fff;\r\n    border-color: #fff;\r\n}\r\n.login-vue ::-webkit-input-placeholder { /* WebKit, Blink, Edge */\r\n    color: rgba(255, 255, 255, .8);\r\n}\r\n.login-vue :-moz-placeholder { /* Mozilla Firefox 4 to 18 */\r\n    color: rgba(255, 255, 255, .8);\r\n}\r\n.login-vue ::-moz-placeholder { /* Mozilla Firefox 19+ */\r\n    color: rgba(255, 255, 255, .8);\r\n}\r\n.login-vue :-ms-input-placeholder { /* Internet Explorer 10-11 */\r\n    color: rgba(255, 255, 255, .8);\r\n}\r\n.login-vue .title {\r\n    font-size: 16px;\r\n    margin-bottom: 20px;\r\n}\r\n.login-vue .input-c {\r\n    margin: auto;\r\n    width: 200px;\r\n}\r\n.login-vue .error {\r\n    color: red;\r\n    text-align: left;\r\n    margin: 5px auto;\r\n    font-size: 12px;\r\n    padding-left: 30px;\r\n    height: 20px;\r\n}\r\n.login-vue .submit {\r\n    width: 200px;\r\n}\r\n.login-vue .account {\r\n    margin-top: 30px;\r\n}\r\n.login-vue .account span {\r\n    cursor: pointer;\r\n}\r\n.login-vue .account .red {\r\n    color: red;\r\n}\r\n.login-vue .ivu-icon {\r\n    color: #eee;\r\n}\r\n.login-vue .ivu-icon-ios-close-circle {\r\n    color: #777;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=53813fe0&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/bg01.d86eb1d6.jpg\";","module.exports = __webpack_public_path__ + \"img/bg02.075e05b6.jpg\";","module.exports = __webpack_public_path__ + \"img/bg05.a951ce20.jpg\";"],"sourceRoot":""}