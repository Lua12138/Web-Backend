(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d5c7a98"],{"1cae":function(t,e,n){"use strict";var r=n("dc67"),a=n.n(r);a.a},"365c":function(t,e,n){"use strict";n.d(e,"g",(function(){return h})),n.d(e,"l",(function(){return v})),n.d(e,"c",(function(){return b})),n.d(e,"q",(function(){return w})),n.d(e,"j",(function(){return k})),n.d(e,"a",(function(){return y})),n.d(e,"s",(function(){return N})),n.d(e,"p",(function(){return _})),n.d(e,"k",(function(){return I})),n.d(e,"h",(function(){return C})),n.d(e,"d",(function(){return D})),n.d(e,"r",(function(){return S})),n.d(e,"t",(function(){return x})),n.d(e,"m",(function(){return j})),n.d(e,"n",(function(){return E})),n.d(e,"o",(function(){return M})),n.d(e,"f",(function(){return A})),n.d(e,"b",(function(){return R})),n.d(e,"i",(function(){return L})),n.d(e,"e",(function(){return O}));n("b0c0"),n("d3b7");var r=n("bc3a"),a=n.n(r),i=n("f825"),o=n("a18c"),s=n("4360"),u=0;function c(){0===u&&s["a"].commit("setLoading",!0),u++}function l(){u--,u<=0&&(u=0,s["a"].commit("setLoading",!1))}var d=n("ed08"),p=a.a.create({baseURL:localStorage.getItem("YUDAO_URL"),timeout:6e4,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(t,e){var n="";for(var r in t)""!==t[r]&&(""!==n&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n}]});p.interceptors.request.use((function(t){return c(),localStorage.getItem("token")&&(t.headers.Authentication=localStorage.getItem("token")),t}),(function(t){return Promise.reject(t)})),p.interceptors.response.use((function(t){l();var e=t.data;return-403===e.status?(i["Message"].error({content:e.message+",请重新登录"}),Object(d["b"])(),o["b"].push("login"),Promise.reject()):e}),(function(t){return l(),"Error"==t.name?i["Message"].error({content:t}):i["Message"].error({content:t.response.data.data||t.message}),Promise.reject(t)}));var f=p,g=a.a.create({baseURL:localStorage.getItem("YUDAO_URL"),timeout:6e4,headers:{"Content-Type":"application/x-www-form-urlencoded"}});g.interceptors.request.use((function(t){return c(),localStorage.getItem("token")&&(t.headers.Authentication=localStorage.getItem("token")),t}),(function(t){return Promise.reject(t)})),g.interceptors.response.use((function(t){l();var e=t.data;return-403===e.status?(i["Message"].error({content:e.message+",请重新登录"}),Object(d["b"])(),o["b"].push("login"),Promise.reject()):e}),(function(t){return l(),"Error"==t.name?i["Message"].error({content:t}):i["Message"].error({content:t.response.data.data||t.message}),Promise.reject(t)}));var m=g;function h(t){return f({url:"/api/v2/permission/auth",method:"post",data:t})}function v(t){return f({url:"/api/v2/groups?page="+t.page+"&size="+t.rows,method:"get"})}function b(t){return f({url:"/api/v2/groups",method:"post",data:t})}function w(t){return f({url:"/api/v2/groups/"+t.groupId,method:"post",data:t})}function k(t){return f({url:"/api/v2/groups",method:"delete",data:t})}function y(t){return f({url:"/api/v2/devices/to_group",method:"post",data:t})}function N(t){return f({url:"/api/v2/devices?"+(t.groupName?"groupName="+t.groupName+"&":"")+(t.identifiers?"identifiers="+t.identifiers+"&":"")+"page="+t.page+"&size="+t.rows,method:"get"})}function _(t){return f({url:"/api/v3/tasks/template?"+(t.name?"name="+t.name+"&":"")+"page="+t.page+"&size="+t.rows,method:"get"})}function I(t){return f({url:"/api/v2/taskTemplates/"+t,method:"delete"})}function C(t){return f({url:"/api/v2/tasks",method:"post",data:t})}function D(t){return f({url:"/api/v3/tasks/template/injury",method:"post",data:t})}function S(t,e){return f({url:"/api/v3/tasks/template/"+t,method:"post",data:e})}function x(t){return f({url:"/api/v2/tasks?withoutFeature="+t.withoutFeature+"&"+(t.groupName?"groupName="+t.groupName+"&":"")+(t.identifiers?"identifiers="+t.identifiers+"&":"")+(t.taskName?"taskName="+t.taskName+"&":"")+"page="+t.page+"&size="+t.rows,method:"get"})}function j(t){return f({url:"/api/v2/tasks/group?"+(t.groupName?"groupName="+t.groupName+"&":"")+(t.identifiers?"identifiers="+t.identifiers+"&":"")+(t.taskName?"taskName="+t.taskName+"&":"")+"page="+t.page+"&size="+t.rows,method:"get"})}function E(t){return f({url:"/api/v2/tasks/group_by?tid="+t.tid+"&iid="+t.iid,method:"get"})}function M(t){return f({url:"/api/v2/tasks/group_by_failure?tid="+t.tid+"&iid="+t.iid,method:"get"})}function A(t){return f({url:"/api/v2/attachments?page="+t.page+"&size="+t.rows,method:"get"})}function R(t,e){return m({url:"/api/v2/attachments"+(t?"/"+t:""),method:"post",data:e})}function L(t){return f({url:"/api/v2/attachments/"+t,method:"delete"})}function O(t){return f({url:"/api/v2/attachments/"+t,method:"get"})}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),i="["+a+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(t,e,n){var r=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var i,o;return a&&"function"==typeof(i=e.constructor)&&i!==n&&r(o=i.prototype)&&o!==n.prototype&&a(t,o),t}},"7ca8":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"devGroupManage"},[n("div",{staticClass:"nav"},[n("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入imei"},model:{value:t.identifiers,callback:function(e){t.identifiers=e},expression:"identifiers"}}),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"ios-search"},on:{click:t.search}},[t._v("imei查询")]),n("el-select",{staticStyle:{"margin-left":"20px",width:"300px"},attrs:{placeholder:"请选择"},on:{change:t.search},model:{value:t.sendData.groupName,callback:function(e){t.$set(t.sendData,"groupName",e)},expression:"sendData.groupName"}},[n("el-option",{attrs:{label:"全部分组",value:""}}),t._l(t.groupList,(function(t){return n("el-option",{attrs:{label:t.name,value:t.name}})}))],2),n("Button",{staticClass:"copyImei",staticStyle:{right:"1.25rem",position:"absolute"},attrs:{"data-clipboard-text":t.imeisCopy,type:"primary",icon:"ios-search"},on:{click:t.copy}},[t._v("imei复制")])],1),n("div",{staticClass:"content"},[n("div",{staticClass:"box"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{align:"center",data:t.tableData,"tooltip-effect":"dark",height:"100%"}},[n("el-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),n("el-table-column",{attrs:{prop:"id",sortable:"",label:"ID",width:"100"}}),n("el-table-column",{attrs:{prop:"identifier",sortable:"",label:"imei",width:"180"}}),n("el-table-column",{attrs:{prop:"groupName",sortable:"",label:"分组名称",width:"250"}}),n("el-table-column",{attrs:{prop:"magiskVersion",sortable:"",label:"面具版本",width:"150"}}),n("el-table-column",{attrs:{prop:"version",sortable:"",label:"版本",width:"100"}}),n("el-table-column",{attrs:{align:"center",label:"在线状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.online?n("div",{staticClass:"light"}):n("div",{staticClass:"dark"})]}}])}),n("el-table-column",{attrs:{sortable:"",label:"在线时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("timeHendel")(e.row.online_ts)))])]}}])}),n("el-table-column",{attrs:{sortable:"",label:"离线时间","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("timeHendel")(e.row.offline_ts)))])]}}])}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"space-around"}},[n("Button",{attrs:{type:"warning"},on:{click:function(n){return t.groupClick(e.row.identifier)}}},[t._v("修改分组")])],1)]}}])})],1)],1),n("div",{staticClass:"page-box"},[n("el-pagination",{attrs:{"current-page":t.sendData.page+1,"page-sizes":[100,500],"page-size":t.sendData.rows,layout:"total, sizes, prev, pager, next, jumper",total:t.totalRows},on:{"size-change":t.rowsChange,"current-change":t.pageChange}})],1)]),n("el-dialog",{attrs:{title:"修改分组",visible:t.dialogVisible,width:"20%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},t._l(t.groupList,(function(t){return n("el-option",{attrs:{label:t.name,value:t.id}})})),1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.addGroup}},[t._v("确 定")])],1)],1)],1)},a=[],i=(n("4de4"),n("a15b"),n("a9e3"),n("365c")),o={name:"devGroupManage",data:function(){return{dialogVisible:!1,imeisCopy:"",groupText:"",group:"",imei:"",groupList:[],tableData:[],totalRows:0,identifiers:"",sendData:{page:0,rows:100,groupName:"",identifiers:""}}},created:function(){var t=this;Object(i["l"])({page:0,rows:9999}).then((function(e){t.groupList=e.content})),this.getvDeviceses()},methods:{copy:function(){var t=this,e=[];this.tableData.filter((function(t){e.push(t.identifier)})),this.imeisCopy=e.join(",");var n=new this.Clipboard(".copyImei");n.on("success",(function(e){t.$message.success("复制成功"),n.destroy()}))},addGroup:function(){var t=this;Object(i["a"])({groupId:this.group,identifiers:this.imei}).then((function(e){t.$message.success("请求已发送"),t.getvDeviceses(),t.dialogVisible=!1}))},groupClick:function(t){this.imei=t,this.dialogVisible=!0},search:function(){this.sendData.page=0,this.getvDeviceses()},pageChange:function(t){this.sendData.page=t-1,this.getvDeviceses()},rowsChange:function(t){this.sendData.rows=t,this.getvDeviceses()},getvDeviceses:function(){var t=this;this.sendData.identifiers=encodeURIComponent(this.identifiers),Object(i["s"])(this.sendData).then((function(e){t.tableData=e.content.content,t.totalRows=e.content.totalElements}))}},filters:{timeHendel:function(t){if(null===t)return"";t=Number(t+"");var e=new Date(t),n=e.getFullYear()+"-",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",a=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",i=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",o=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",s=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return n+r+a+i+o+s}}},s=o,u=(n("1cae"),n("2877")),c=Object(u["a"])(s,r,a,!1,null,"62e7f907",null);e["default"]=c.exports},a15b:function(t,e,n){"use strict";var r=n("23e7"),a=n("44ad"),i=n("fc6a"),o=n("b301"),s=[].join,u=a!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:u||c},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),i=n("94ca"),o=n("6eeb"),s=n("5135"),u=n("c6b6"),c=n("7156"),l=n("c04e"),d=n("d039"),p=n("7c73"),f=n("241c").f,g=n("06cf").f,m=n("9bf2").f,h=n("58a8").trim,v="Number",b=a[v],w=b.prototype,k=u(p(w))==v,y=function(t){var e,n,r,a,i,o,s,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(u=i.charCodeAt(s),u<48||u>a)return NaN;return parseInt(i,r)}return+c};if(i(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var N,_=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof _&&(k?d((function(){w.valueOf.call(n)})):u(n)!=v)?c(new b(y(e)),n,_):y(e)},I=r?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;I.length>C;C++)s(b,N=I[C])&&!s(_,N)&&m(_,N,g(b,N));_.prototype=w,w.constructor=_,o(a,v,_)}},dc67:function(t,e,n){}}]);
//# sourceMappingURL=chunk-0d5c7a98.23d04259.js.map