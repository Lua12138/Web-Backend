(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58484ae8"],{"365c":function(t,e,n){"use strict";n.d(e,"g",(function(){return h})),n.d(e,"l",(function(){return v})),n.d(e,"c",(function(){return b})),n.d(e,"q",(function(){return w})),n.d(e,"j",(function(){return k})),n.d(e,"a",(function(){return N})),n.d(e,"s",(function(){return y})),n.d(e,"p",(function(){return I})),n.d(e,"k",(function(){return _})),n.d(e,"h",(function(){return S})),n.d(e,"d",(function(){return x})),n.d(e,"r",(function(){return C})),n.d(e,"t",(function(){return D})),n.d(e,"m",(function(){return R})),n.d(e,"n",(function(){return j})),n.d(e,"o",(function(){return A})),n.d(e,"f",(function(){return E})),n.d(e,"b",(function(){return M})),n.d(e,"i",(function(){return L})),n.d(e,"e",(function(){return T}));n("b0c0"),n("d3b7");var a=n("bc3a"),r=n.n(a),o=n("f825"),i=n("a18c"),s=n("4360"),u=0;function c(){0===u&&s["a"].commit("setLoading",!0),u++}function l(){u--,u<=0&&(u=0,s["a"].commit("setLoading",!1))}var p=n("ed08"),d=r.a.create({baseURL:localStorage.getItem("YUDAO_URL"),timeout:6e4,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(t,e){var n="";for(var a in t)""!==t[a]&&(""!==n&&(n+="&"),n+=encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return n}]});d.interceptors.request.use((function(t){return c(),localStorage.getItem("token")&&(t.headers.Authentication=localStorage.getItem("token")),t}),(function(t){return Promise.reject(t)})),d.interceptors.response.use((function(t){l();var e=t.data;return-403===e.status?(o["Message"].error({content:e.message+",请重新登录"}),Object(p["b"])(),i["b"].push("login"),Promise.reject()):e}),(function(t){return l(),"Error"==t.name?o["Message"].error({content:t}):o["Message"].error({content:t.response.data.data||t.message}),Promise.reject(t)}));var f=d,g=r.a.create({baseURL:localStorage.getItem("YUDAO_URL"),timeout:6e4,headers:{"Content-Type":"application/x-www-form-urlencoded"}});g.interceptors.request.use((function(t){return c(),localStorage.getItem("token")&&(t.headers.Authentication=localStorage.getItem("token")),t}),(function(t){return Promise.reject(t)})),g.interceptors.response.use((function(t){l();var e=t.data;return-403===e.status?(o["Message"].error({content:e.message+",请重新登录"}),Object(p["b"])(),i["b"].push("login"),Promise.reject()):e}),(function(t){return l(),"Error"==t.name?o["Message"].error({content:t}):o["Message"].error({content:t.response.data.data||t.message}),Promise.reject(t)}));var m=g;function h(t){return f({url:"/api/v2/permission/auth",method:"post",data:t})}function v(t){return f({url:"/api/v2/groups?page="+t.page+"&size="+t.rows,method:"get"})}function b(t){return f({url:"/api/v2/groups",method:"post",data:t})}function w(t){return f({url:"/api/v2/groups/"+t.groupId,method:"post",data:t})}function k(t){return f({url:"/api/v2/groups",method:"delete",data:t})}function N(t){return f({url:"/api/v2/devices/to_group",method:"post",data:t})}function y(t){return f({url:"/api/v2/devices?"+(t.groupName?"groupName="+t.groupName+"&":"")+(t.identifiers?"identifiers="+t.identifiers+"&":"")+"page="+t.page+"&size="+t.rows,method:"get"})}function I(t){return f({url:"/api/v3/tasks/template?"+(t.name?"name="+t.name+"&":"")+"page="+t.page+"&size="+t.rows,method:"get"})}function _(t){return f({url:"/api/v2/taskTemplates/"+t,method:"delete"})}function S(t){return f({url:"/api/v2/tasks",method:"post",data:t})}function x(t){return f({url:"/api/v3/tasks/template/injury",method:"post",data:t})}function C(t,e){return f({url:"/api/v3/tasks/template/"+t,method:"post",data:e})}function D(t){return f({url:"/api/v2/tasks?withoutFeature="+t.withoutFeature+"&"+(t.groupName?"groupName="+t.groupName+"&":"")+(t.identifiers?"identifiers="+t.identifiers+"&":"")+(t.taskName?"taskName="+t.taskName+"&":"")+"page="+t.page+"&size="+t.rows,method:"get"})}function R(t){return f({url:"/api/v2/tasks/group?"+(t.groupName?"groupName="+t.groupName+"&":"")+(t.identifiers?"identifiers="+t.identifiers+"&":"")+(t.taskName?"taskName="+t.taskName+"&":"")+"page="+t.page+"&size="+t.rows,method:"get"})}function j(t){return f({url:"/api/v2/tasks/group_by?tid="+t.tid+"&iid="+t.iid,method:"get"})}function A(t){return f({url:"/api/v2/tasks/group_by_failure?tid="+t.tid+"&iid="+t.iid,method:"get"})}function E(t){return f({url:"/api/v2/attachments?page="+t.page+"&size="+t.rows,method:"get"})}function M(t,e){return m({url:"/api/v2/attachments"+(t?"/"+t:""),method:"post",data:e})}function L(t){return f({url:"/api/v2/attachments/"+t,method:"delete"})}function T(t){return f({url:"/api/v2/attachments/"+t,method:"get"})}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),r=n("5899"),o="["+r+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(t,e,n){var a=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var o,i;return r&&"function"==typeof(o=e.constructor)&&o!==n&&a(i=o.prototype)&&i!==n.prototype&&r(t,i),t}},a15b:function(t,e,n){"use strict";var a=n("23e7"),r=n("44ad"),o=n("fc6a"),i=n("b301"),s=[].join,u=r!=Object,c=i("join",",");a({target:"Array",proto:!0,forced:u||c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},a9a0:function(t,e,n){"use strict";var a=n("cfff"),r=n.n(a);r.a},a9e3:function(t,e,n){"use strict";var a=n("83ab"),r=n("da84"),o=n("94ca"),i=n("6eeb"),s=n("5135"),u=n("c6b6"),c=n("7156"),l=n("c04e"),p=n("d039"),d=n("7c73"),f=n("241c").f,g=n("06cf").f,m=n("9bf2").f,h=n("58a8").trim,v="Number",b=r[v],w=b.prototype,k=u(d(w))==v,N=function(t){var e,n,a,r,o,i,s,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+c}for(o=c.slice(2),i=o.length,s=0;s<i;s++)if(u=o.charCodeAt(s),u<48||u>r)return NaN;return parseInt(o,a)}return+c};if(o(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var y,I=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof I&&(k?p((function(){w.valueOf.call(n)})):u(n)!=v)?c(new b(N(e)),n,I):N(e)},_=a?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;_.length>S;S++)s(b,y=_[S])&&!s(I,y)&&m(I,y,g(b,y));I.prototype=w,w.constructor=I,i(r,v,I)}},cfff:function(t,e,n){},f1e7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"devGroupManage"},[n("div",{staticClass:"nav"},[n("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入任务名称"},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}}),n("Input",{staticStyle:{width:"300px","margin-left":"20px"},attrs:{placeholder:"请输入imei"},model:{value:t.identifiers,callback:function(e){t.identifiers=e},expression:"identifiers"}}),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"ios-search"},on:{click:t.search}},[t._v("查询")]),n("el-select",{staticStyle:{"margin-left":"20px",width:"300px"},attrs:{placeholder:"请选择"},on:{change:t.search},model:{value:t.sendData.groupName,callback:function(e){t.$set(t.sendData,"groupName",e)},expression:"sendData.groupName"}},[n("el-option",{attrs:{label:"全部分组",value:""}}),t._l(t.groupList,(function(t){return n("el-option",{attrs:{label:t.name,value:t.name}})}))],2),n("el-checkbox",{staticStyle:{"margin-left":"20px"},model:{value:t.sendData.withoutFeature,callback:function(e){t.$set(t.sendData,"withoutFeature",e)},expression:"sendData.withoutFeature"}},[t._v("不显示")]),n("Button",{staticClass:"copyImei",staticStyle:{right:"1.25rem",position:"absolute"},attrs:{"data-clipboard-text":t.imeisCopy,type:"primary",icon:"ios-search"},on:{click:t.copy}},[t._v("imei复制")])],1),n("div",{staticClass:"content"},[n("div",{staticClass:"box"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{align:"center",data:t.tableData,"tooltip-effect":"dark",height:"100%"}},[n("el-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),n("el-table-column",{attrs:{prop:"id",sortable:"",label:"id",width:"100"}}),n("el-table-column",{attrs:{prop:"magiskVersion",sortable:"",label:"面具版本",width:"150"}}),n("el-table-column",{attrs:{prop:"taskName",sortable:"",label:"任务名称",width:"200"}}),n("el-table-column",{attrs:{prop:"status",sortable:"",label:"任务当前状态",width:"140"}}),n("el-table-column",{attrs:{align:"center",label:"响应数据",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"copyRes",staticStyle:{cursor:"pointer","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},attrs:{"data-clipboard-text":JSON.stringify(e.row.response)},on:{click:t.copyRes}},[t._v(t._s(JSON.stringify(e.row.response)))])]}}])}),n("el-table-column",{attrs:{prop:"deviceVersion",sortable:"",label:"任务关联的设备版本号",width:"200"}}),n("el-table-column",{attrs:{prop:"deviceIdentifier",sortable:"",label:"\t任务关联设备的唯一标识符",width:"220"}}),n("el-table-column",{attrs:{prop:"deviceIPv4",sortable:"",label:"任务关联的设备IPv4地址",width:"200"}}),n("el-table-column",{attrs:{align:"center",label:"任务开始执行的时间",sortable:"","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("timeHendel")(e.row.createAt)))])]}}])}),n("el-table-column",{attrs:{align:"center",label:"任务完成时间",sortable:"","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("timeHendel")(e.row.doneAt)))])]}}])})],1)],1),n("div",{staticClass:"page-box"},[n("el-pagination",{attrs:{"current-page":t.sendData.page+1,"page-sizes":[100,500],"page-size":t.sendData.rows,layout:"total, sizes, prev, pager, next, jumper",total:t.totalRows},on:{"size-change":t.rowsChange,"current-change":t.pageChange}})],1)])])},r=[],o=(n("4de4"),n("a15b"),n("a9e3"),n("365c")),i={name:"devGroupManage",data:function(){return{tableData:[],imeisCopy:"",totalRows:0,groupList:[],taskName:"",identifiers:"",sendData:{taskName:"",identifiers:"",groupName:"",withoutFeature:!0,page:0,rows:100}}},created:function(){var t=this;Object(o["l"])({page:0,rows:9999}).then((function(e){t.groupList=e.content})),this.getviewTaskLogs()},methods:{copyRes:function(){var t=this,e=new this.Clipboard(".copyRes");e.on("success",(function(n){t.$message.success("复制成功"),e.destroy()}))},copy:function(){var t=this,e=[];this.tableData.filter((function(t){e.push(t.deviceIdentifier)})),this.imeisCopy=e.join(",");var n=new this.Clipboard(".copyImei");n.on("success",(function(e){t.$message.success("复制成功"),n.destroy()}))},search:function(){this.sendData.page=0,this.getviewTaskLogs()},pageChange:function(t){this.sendData.page=t-1,this.getviewTaskLogs()},rowsChange:function(t){this.sendData.rows=t,this.getviewTaskLogs()},getviewTaskLogs:function(){var t=this;this.sendData.identifiers=encodeURIComponent(this.identifiers),this.sendData.taskName=encodeURIComponent(this.taskName),Object(o["t"])(this.sendData).then((function(e){t.tableData=e.content.content,t.totalRows=e.content.totalElements}))}},filters:{timeHendel:function(t){if(null===t)return"";t=Number(t+"");var e=new Date(t),n=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",r=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",o=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",i=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",s=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return n+a+r+o+i+s}}},s=i,u=(n("a9a0"),n("2877")),c=Object(u["a"])(s,a,r,!1,null,"d249c836",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-58484ae8.84367add.js.map